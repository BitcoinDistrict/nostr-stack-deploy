# Copy to .env and source it before running scripts/deploy.sh

# --- Relay (Strfry) ---
# Public FQDN for the relay (not secret)
DOMAIN=relay.bitcoindistrict.org
# Email used for Let's Encrypt registration/alerts (not secret)
CERTBOT_EMAIL=hey@bitcoindistrict.org
# Use Cloudflare DNS-01 challenge (not secret flag)
CLOUDFLARE_ENABLED=false
# SECRET: Cloudflare API token with Zone DNS Edit permissions
# Set in CI/CD secrets or host env; do NOT commit to repo or .env in VCS.
CLOUDFLARE_API_TOKEN=

# --- Dashboard (static) ---
# Toggle dashboard deployment (not secret)
DASHBOARD_ENABLED=true
# Public FQDN for dashboard (not secret)
DASHBOARD_DOMAIN=dashboard.relay.bitcoindistrict.org

# --- Blossom Media Server ---
# Toggle blossom deployment (not secret)
BLOSSOM_ENABLED=true
# Public FQDN for blossom (not secret)
BLOSSOM_DOMAIN=media.relay.bitcoindistrict.org
# Deploy mode: container | source (not secret)
BLOSSOM_DEPLOY_MODE=container
# Container image reference (used when BLOSSOM_DEPLOY_MODE=container)
BLOSSOM_CONTAINER_IMAGE=ghcr.io/hzrd149/blossom-server:master
# Internal listen port (localhost) for blossom container (not secret)
BLOSSOM_PORT=3300
# Max client upload size enforced at nginx in MB (not secret)
BLOSSOM_MAX_UPLOAD_MB=16

# Upload gate: nip05 | allowlist | open (not secret)
BLOSSOM_GATE_MODE=nip05
# Only used when gate mode is allowlist; newline-separated hex pubkeys (not secret)
# This is a file path on the server; contents are not sensitive
BLOSSOM_ALLOWLIST_FILE=/etc/blossom/allowlist.txt

# --- Standalone Nostr Auth Proxy (for Blossom and future HTTP services) ---
# Toggle the auth proxy (not secret)
NOSTR_AUTH_ENABLED=true
# Internal listen port (localhost) for the proxy (not secret)
NOSTR_AUTH_PORT=3310
# Gate mode: nip05 | allowlist | open (not secret)
NOSTR_AUTH_GATE_MODE=nip05
# Path to allowlist file (only used in allowlist mode; not secret)
NOSTR_AUTH_ALLOWLIST_FILE=
# Cache TTL for NIP-05 results (seconds; not secret)
NOSTR_AUTH_CACHE_TTL_SECONDS=300
# Log level for the proxy (error|warn|info|debug; not secret)
NOSTR_AUTH_LOG_LEVEL=info


